"use strict";

var JsCookies = require('js-cookie');

var utility = require('./utility');

var cookie = {
  set: function set(key, data, options) {
    options = options || {};
    return JsCookies.set(key, data, options);
  },
  get: function get(key) {
    return JsCookies.get(key);
  },
  getAllCookies: function getAllCookies() {
    return JsCookies.get();
  },
  setObject: function setObject(key, data, options) {
    data = JSON.stringify(data);
    return this.set(key, data, options);
  },
  getObject: function getObject(key, subKey) {
    var data = this.get(key);
    data = data ? JSON.parse(data) : {};
    return subKey ? data[subKey] : data;
  },
  setInitialSiteObject: function setInitialSiteObject(key, siteId, payload, options) {
    var dataObject = this.getObject(key);
    dataObject[siteId] = dataObject[siteId] || {};
    dataObject[siteId] = utility.extend(dataObject[siteId], payload);
    return this.setObject(key, dataObject, options);
  },
  extendObject: function extendObject(key, payload, options) {
    var dataObject = this.getObject(key);
    dataObject = utility.extend(dataObject, payload);
    return this.setObject(key, dataObject, options);
  }
};
module.exports = cookie;