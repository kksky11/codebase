# @paisabazaar/pbguc

[![N|Solid](https://www.paisabazaar.com/wp-content/uploads/2017/10/489X100.png)](https://www.paisabazaar.com)


### Installationa

```sh
npm install @paisabazaar/pbguc
```

# Methods

  - getData
  - setData
  - deleteData 
  - getVisit
  - renderWidget ( TODO )

### Initialize
```javascript
new PaisabazaarGuc({
        vmsUrl: "https://securedcards.paisabazaar.com",
        siteId: 'PAISABAZAAR_BUREAU',
        environment: "development"
    });
```

### Configuration
```javascript
{
    vmsUrl: ""
    siteId: "",
    environment: ""
}
```

# Methods Reference

## getData

| Parameter | Type   | Requirement |
| --------- | ------ | ----------- |
| id        | string | optional    |
| type      | string | optional    |


Return Type `<Array[Object]>`

**Note:** Returns filtered data if either `id` or `type` is provided, if neither is provided then return list of all payloads.
 
## getVisit

*No params needed*

## setData

| Parameter | Type   | Requirement |
| --------- | ------ | ----------- |
| dataObj   | Object | mandatory   |

The `dataObj` must have these fields: 

- id
- type


## deleteData

| Parameter | Type   | Requirement |
| --------- | ------ | ----------- |
| leadId    | string | mandatory   |
| type      | string | mandatory   |


## setCustomerData

| Parameter    | Type   | Requirement |
| ------------ | ------ | ----------- |
| customerData | string | optional    |


`customerData` object contains these fields:
- mobileNo
- cutomerId

Example: 
```js
setCustomerData({mobileNo: "9999999999", customerId:"fc30dc2a-6cc4-4f8b-a0d8-856a475348e2"})
```


## getCustomerData

return `customerData` i.e.
- mobileNo
- cutomerId

Example: 
```js
getCustomerData()
```

## getGucObject

return `cookie object` i.e.

Example: 
```js
getCustomerData()
{
    "id": "249ef88b-a5b3-4f76-9c31-e38725c9421a",
    "createdAt": "2022-09-06T07:59:09.674Z",
    "updatedAt": "2022-09-06T07:59:10.266Z",
    "visit": {
        "visitId": "e28c155f-24ac-4efd-8245-761351cfe278",
        "utmSource": null,
        "createdAt": "2022-09-06T07:59:10.265Z"
    },
    "mobileNo": "9999999999",
    "customerId": "fc30dc2a-6cc4-4f8b-a0d8-856a475348e2"
}
```