/*! For license information please see guc-plugin.js.LICENSE.txt */
(()=>{var t={497:(t,e,r)=>{function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function o(){"use strict";o=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var o=e&&e.prototype instanceof p?e:p,i=Object.create(o.prototype),a=new k(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=_(a,r);if(s){if(s===h)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=f(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,a),i}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var h={};function p(){}function d(){}function v(){}var m={};c(m,a,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(O([])));y&&y!==e&&r.call(y,a)&&(m=y);var w=v.prototype=p.prototype=Object.create(m);function x(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function o(i,a,s,u){var c=f(t[i],t,a);if("throw"!==c.type){var l=c.arg,h=l.value;return h&&"object"==n(h)&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){o("next",t,s,u)}),(function(t){o("throw",t,s,u)})):e.resolve(h).then((function(t){l.value=t,s(l)}),(function(t){return o("throw",t,s,u)}))}u(c.arg)}var i;this._invoke=function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}}function _(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,_(t,e),"throw"===e.method))return h;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var n=f(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,h;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function O(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return d.prototype=v,c(w,"constructor",v),c(v,"constructor",d),d.displayName=c(v,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,c(t,u,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},x(b.prototype),c(b.prototype,s,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new b(l(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},x(w),c(w,u,"Generator"),c(w,a,(function(){return this})),c(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=O,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:O(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},t}function i(t,e,r,n,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,o)}function a(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function s(t){i(a,n,o,s,u,"next",t)}function u(t){i(a,n,o,s,u,"throw",t)}s(void 0)}))}}var s=r(832),u=r(668),c=r(514),l=r(650);function f(t,e){this.configuration=s.extend(t,{cookieOption:{domain:"localhost",expires:3650}}),this.additionalData=e||{},this.initialize=function(){var r=s.hasRequiredParams(["environment","siteId","siteKey","vmsUrl"],s.extend(e,this.configuration));if(!1===s.isEmpty(r))return console.error(new Error("["+r.join(",")+"] is required"));this.setEnvironment(t),this.setGucCookieName(),this.setGucObject(),this.customStorage=this.getCustomStorageObject(),this.setVisit()},this.setEnvironment=function(t){this._environment=t.environment||"development"},this.setGucCookieName=function(){var t={development:"PBGUC_DEV",staging:"PBGUC_DEV",local:"PBGUC_DEV",production:"PBGUC"};this._gucCookieName=t[this._environment]||t.development},this.setGucObject=function(){var t=u.getObject(this._gucCookieName);if(!1===s.isEmpty(t))return!1;u.setObject(this._gucCookieName,{id:s.uuid(),createdAt:new Date,updatedAt:new Date},this.configuration.cookieOption)},this.setVisit=function(){var t=u.getObject(this._gucCookieName),e=this,r=function(){var r=a(o().mark((function r(){var n;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.customStorage.get(e.configuration.siteId);case 2:if(n=r.sent,!s.isEmpty(n)){r.next=9;break}return r.next=6,e.setInitialSiteObject(e,t);case 6:return r.next=8,e.customStorage.get(e.configuration.siteId);case 8:n=r.sent;case 9:if(s.isEmpty(n)||s.isEmpty(n.visit)){r.next=11;break}return r.abrupt("return",Promise.resolve(n.visit));case 11:return r.abrupt("return",c.createVisit(e.configuration.vmsUrl).then((function(r){return s.isEmpty(t.visit)&&u.extendObject(e._gucCookieName,{visit:r,updatedAt:new Date},e.configuration.cookieOption),s.isEmpty(n.visit)&&e.customStorage.setSiteItem(e.configuration.siteId,"visit",r),Promise.resolve(r)})).catch((function(t){return Promise.reject(t)})));case 12:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}();return r()},this.getVisit=function(){return this.customStorage.getSiteVisit(this.configuration.siteId)},this.getLeadData=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return this.customStorage.getSiteData(this.configuration.siteId,t)},this.insertLeadData=function(t){return this.customStorage.insertLeadData(this.configuration.siteId,t)},this.deleteLeadData=function(t){return this.customStorage.deleteLeadData(this.configuration.siteId,t)},this.renderWidget=function(){var t=document.createElement("div"),e=document.querySelector("body"),r=document.createElement("div"),n=document.createElement("ul");document.querySelector(".modal-close"),t.style.cssText="\n            position: fixed;\n            top: 0;\n            right: 0;\n            bottom: 0;\n            left: 0;\n            height: 100%;\n            width: 100%;\n            z-index: 8000;\n            background-color: rgba(0, 0, 0, 0.5);\n          ",r.appendChild(n),t.appendChild(r),e.appendChild(t),n.setAttribute("id","plList"),this.getLeadData().then((function(t){t.forEach((function(t,e,r){var o=document.createElement("li");o.style.cssText="color: #ffffff ;\n        ",n.appendChild(o),o.innerHTML=o.innerHTML+JSON.stringify(t)}))}))},this.getCustomStorageObject=function(){var t=void 0,e=void 0;switch(this._environment){case"development":case"local":t=new RegExp("localhost:\\d\\d\\d\\d.*$"),e="http://localhost:5500/dist/index.html";break;case"staging":t=new RegExp,e="";break;case"production":t=new RegExp("/.paisabazaar.com$/"),e="https://www.paisabazaar.com/"}return new l(t,e)},this.setInitialSiteObject=function(){var t=a(o().mark((function t(e,r){var n,i,a;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.configuration.siteId,i=r.id,a=r.visit,t.next=4,this.customStorage.initialize(i,n,a);case 4:case"end":return t.stop()}}),t,this)})));return function(e,r){return t.apply(this,arguments)}}(),this.environment=this.initialize()}t.exports&&(e=t.exports=f),e.PaisabazaarGuc=f,"undefined"!=typeof window&&(window.PaisabazaarGuc=f)},514:(t,e,r)=>{var n=r(832);t.exports=new function(){this.createVisit=function(t,e){var r=n.urlParams(),o={visitId:n.uuid(),utmContent:n.result(r,"utm_content",null),utmMedium:n.result(r,"utm_medium",null),utmSource:n.result(r,"utm_source",n.result(r,"data_source",null)),utmName:n.result(r,"utm_name",null),utmTerm:n.result(r,"utm_term",null),utmTitle:n.result(r,"utm_title",null),utm:n.result(r,"utm",null),dataSource:n.result(r,"data_source",null),completeUrl:window.location.href,createdTime:(new Date).toString()};return n.xhrRequest("POST",t+"/SCSP/api/v1/visit",{},o).then((function(t){})).catch((function(t){})),Promise.resolve({visitId:o.visitId,utmSource:o.utmSource,createdAt:o.createdTime})}}},668:(t,e,r)=>{var n=r(646),o=r(832),i={set:function(t,e,r){return r=r||{},n.set(t,e,r)},get:function(t){return n.get(t)},setObject:function(t,e,r){return e=JSON.stringify(e),this.set(t,e,r)},getObject:function(t,e){var r=this.get(t);return r=r?JSON.parse(r):{},e?r[e]:r},setInitialSiteObject:function(t,e,r,n){var i=this.getObject(t);return i[e]=i[e]||{},i[e]=o.extend(i[e],r),this.setObject(t,i,n)},extendObject:function(t,e,r){var n=this.getObject(t);return n=o.extend(n,e),this.setObject(t,n,r)}};t.exports=i},650:(t,e,r)=>{function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function o(){"use strict";o=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var o=e&&e.prototype instanceof p?e:p,i=Object.create(o.prototype),a=new k(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=_(a,r);if(s){if(s===h)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=f(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,a),i}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var h={};function p(){}function d(){}function v(){}var m={};c(m,a,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(O([])));y&&y!==e&&r.call(y,a)&&(m=y);var w=v.prototype=p.prototype=Object.create(m);function x(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function o(i,a,s,u){var c=f(t[i],t,a);if("throw"!==c.type){var l=c.arg,h=l.value;return h&&"object"==n(h)&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){o("next",t,s,u)}),(function(t){o("throw",t,s,u)})):e.resolve(h).then((function(t){l.value=t,s(l)}),(function(t){return o("throw",t,s,u)}))}u(c.arg)}var i;this._invoke=function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}}function _(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,_(t,e),"throw"===e.method))return h;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var n=f(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,h;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function O(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return d.prototype=v,c(w,"constructor",v),c(v,"constructor",d),d.displayName=c(v,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,c(t,u,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},x(b.prototype),c(b.prototype,s,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new b(l(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},x(w),c(w,u,"Generator"),c(w,a,(function(){return this})),c(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=O,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:O(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},t}function i(t,e,r,n,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,o)}function a(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function s(t){i(a,n,o,s,u,"next",t)}function u(t){i(a,n,o,s,u,"throw",t)}s(void 0)}))}}function s(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var u=r(92),c=u.CrossStorageHub,l=u.CrossStorageClient,f=r(832),h=function(){function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.isHub=window.location.host===new URL(r).host,this.isHub?c.init([{origin:e,allow:["get","set"]}]):this.storage=new l(r,{timeout:6e5})}var e,r,n,i,u,h,p,d,v,m,g;return e=t,r=[{key:"initialize",value:(g=a(o().mark((function t(e,r,n){var i,a,s,u,c=this;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.gucId=e,!this.isHub){t.next=5;break}t.t0=window.localStorage.getItem(e),t.next=8;break;case 5:return t.next=7,this.storage.onConnect().then((function(){return c.storage.get(e)}));case 7:t.t0=t.sent;case 8:if(i=t.t0,f.isEmpty(i)||f.isEmpty(JSON.parse(i)[r])){t.next=11;break}return t.abrupt("return");case 11:if(a=f.currentTime(),s={createdAt:a,updatedAt:a},f.isEmpty(n)||(s.visit=n),!f.isEmpty(i)){t.next=18;break}return h=s,(l=r)in(o={})?Object.defineProperty(o,l,{value:h,enumerable:!0,configurable:!0,writable:!0}):o[l]=h,u=o,u=JSON.stringify(u),t.abrupt("return",this.isHub?window.localStorage.setItem(e,u):this.storage.onConnect().then((function(){return c.storage.set(e,u)})));case 18:return t.next=20,this.set(r,s);case 20:return t.abrupt("return",t.sent);case 21:case"end":return t.stop()}var o,l,h}),t,this)}))),function(t,e,r){return g.apply(this,arguments)})},{key:"set",value:(m=a(o().mark((function t(e,r){var n,i=this;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("string"==typeof e){t.next=2;break}return t.abrupt("return",void 0);case 2:return t.next=4,this.get();case 4:if((n=t.sent)[e]=r,n.updatedAt=f.currentTime(),n=JSON.stringify(n),!this.isHub){t.next=12;break}t.t0=window.localStorage.setItem(this.gucId,n),t.next=15;break;case 12:return t.next=14,this.storage.onConnect().then((function(){return i.storage.set(i.gucId,n)}));case 14:t.t0=t.sent;case 15:return t.abrupt("return",t.t0);case 16:case"end":return t.stop()}}),t,this)}))),function(t,e){return m.apply(this,arguments)})},{key:"get",value:(v=a(o().mark((function t(e){var r,n=this;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e||"string"==typeof e){t.next=2;break}return t.abrupt("return",void 0);case 2:if(!this.isHub){t.next=6;break}t.t0=window.localStorage.getItem(this.gucId),t.next=9;break;case 6:return t.next=8,this.storage.onConnect().then((function(){return n.storage.get(n.gucId)}));case 8:t.t0=t.sent;case 9:if(r=t.t0,r=JSON.parse(r),e&&r){t.next=13;break}return t.abrupt("return",r);case 13:return t.prev=13,t.abrupt("return",JSON.parse(r[e]));case 15:return t.prev=15,t.abrupt("return",r[e]);case 18:case"end":return t.stop()}}),t,this,[[13,,15,18]])}))),function(t){return v.apply(this,arguments)})},{key:"getSiteItem",value:(d=a(o().mark((function t(e){var r,n,i=arguments;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=i.length>1&&void 0!==i[1]?i[1]:void 0,"string"==typeof e){t.next=3;break}return t.abrupt("return",void 0);case 3:return t.next=5,this.get();case 5:if(n=t.sent,!f.isEmpty(n)&&!f.isEmpty(n[e])){t.next=8;break}return t.abrupt("return",void 0);case 8:if("string"==typeof r){t.next=10;break}return t.abrupt("return",n[e]);case 10:return t.abrupt("return",n[e][r]);case 11:case"end":return t.stop()}}),t,this)}))),function(t){return d.apply(this,arguments)})},{key:"setSiteItem",value:(p=a(o().mark((function t(e,r){var n,i,a=arguments;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=a.length>2&&void 0!==a[2]?a[2]:"","string"==typeof r){t.next=3;break}return t.abrupt("return",void 0);case 3:return t.next=5,this.get();case 5:if(i=t.sent,!f.isEmpty(i)){t.next=8;break}return t.abrupt("return",void 0);case 8:if(!i||!i[e]){t.next=13;break}return i[e][r]=n,i[e].updatedAt=f.currentTime(),t.next=13,this.set(e,i[e]);case 13:return t.abrupt("return",!0);case 14:case"end":return t.stop()}}),t,this)}))),function(t,e){return p.apply(this,arguments)})},{key:"insertLeadData",value:(h=a(o().mark((function t(e,r){var n,i,a,s,u;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=["leadId","continueUrl","application"],i=Object.keys(r).filter((function(t){return n.includes(t)})),n.length===i.length){t.next=4;break}throw new Error("Some of the compulsory fiels missing. Required fields are - ".concat(n.join()));case 4:return t.next=6,this.getSiteItem(e,"data");case 6:if(a=t.sent,s=f.currentTime(),r.createdAt=s,r.updatedAt=s,u=[],!f.isEmpty(a)){t.next=15;break}u=[r],t.next=21;break;case 15:if(!Array.isArray(a)){t.next=20;break}a.unshift(r),u=a,t.next=21;break;case 20:throw new Error("Existing data is invalid");case 21:return t.next=23,this.setSiteItem(e,"data",u);case 23:return t.abrupt("return",t.sent);case 24:case"end":return t.stop()}}),t,this)}))),function(t,e){return h.apply(this,arguments)})},{key:"getSiteData",value:(u=a(o().mark((function t(e){var r,n,i=arguments;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:void 0,t.next=3,this.getSiteItem(e,"data");case 3:if(n=t.sent,!f.isEmpty(r)&&!f.isEmpty(n)){t.next=6;break}return t.abrupt("return",n);case 6:return t.abrupt("return",n.filter((function(t){return t.leadId&&t.leadId===r})));case 7:case"end":return t.stop()}}),t,this)}))),function(t){return u.apply(this,arguments)})},{key:"getSiteVisit",value:(i=a(o().mark((function t(e){var r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getSiteItem(e,"visit");case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}}),t,this)}))),function(t){return i.apply(this,arguments)})},{key:"deleteLeadData",value:(n=a(o().mark((function t(e,r){var n,i;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!f.isEmpty(r)){t.next=2;break}throw new Error("leadId required");case 2:return t.next=4,this.getSiteItem(e,"data");case 4:if(n=t.sent,!f.isEmpty(r)&&!f.isEmpty(n)){t.next=7;break}return t.abrupt("return",n);case 7:return i=n.filter((function(t){return t.leadId!==r})),t.next=10,this.setSiteItem(e,"data",i);case 10:return t.abrupt("return",t.sent);case 11:case"end":return t.stop()}}),t,this)}))),function(t,e){return n.apply(this,arguments)})}],r&&s(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();t.exports=h},832:t=>{var e={serializeUrl:function(t,e){return(e&&e+"?"||"")+Object.keys(t).map((function(e){return e+"="+t[e]})).join("&")},xhrRequest:function(t,e,r,n,o){t=t||"GET",r=r||{},n=n||{},o=o||{};var i=new XMLHttpRequest;for(var a in i.open(t,e,!0),i.setRequestHeader("content-type","application/json"),r)i.setRequestHeader(a,r[a]);return i.withCredentials=!1,new Promise((function(t,e){i.onload=function(){return t(JSON.parse(this.response||{}))},i.onerror=function(t){return e(new Error("somethingWentWrong"))},n?i.send(JSON.stringify(n)):i.send()}))},isEmpty:function(t){return"undefined"===t||null==t||""===t||0===t.length||0===Object.keys(t).length},arrayDiff:function(t,e){for(var r=[],n=[],o=0;o<t.length;o++)r[t[o]]=!0;for(o=0;o<e.length;o++)r[e[o]]&&delete r[e[o]];for(var i in r)n.push(i);return n},hasRequiredParams:function(t,r){return e.arrayDiff(t,Object.keys(r))},extend:function(t,e){var r={};for(var n in t)r[n]=t[n];for(var n in e)r[n]=e[n];return r},urlParams:function(t){if("undefined"==typeof window)return null;var e={};return decodeURIComponent(window.location.href.slice(window.location.href.indexOf("?")+1)).split("&").forEach((function(t){var r=t.split("=",2);e[r[0]]=r[1]})),t?t&&t in e?e[t]:null:e},uuid:function(){var t=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var r=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==e?r:3&r|8).toString(16)}))},result:function(t,e,r){return t[e]||r},currentTime:function(){return(new Date).toISOString()}};t.exports=e},226:function(t,e){!function(r){function n(t,e){var r;e=e||{},this._id=n._generateUUID(),this._promise=e.promise||Promise,this._frameId=e.frameId||"CrossStorageClient-"+this._id,this._origin=n._getOrigin(t),this._requests={},this._connected=!1,this._closed=!1,this._count=0,this._timeout=e.timeout||5e3,this._listener=null,this._installListener(),e.frameId&&(r=document.getElementById(e.frameId)),r&&this._poll(),r=r||this._createFrame(t),this._hub=r.contentWindow}n.frameStyle={display:"none",position:"absolute",top:"-999px",left:"-999px"},n._getOrigin=function(t){var e;return(e=document.createElement("a")).href=t,e.host||(e=window.location),((e.protocol&&":"!==e.protocol?e.protocol:window.location.protocol)+"//"+e.host).replace(/:80$|:443$/,"")},n._generateUUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)}))},n.prototype.onConnect=function(){var t=this;return this._connected?this._promise.resolve():this._closed?this._promise.reject(new Error("CrossStorageClient has closed")):(this._requests.connect||(this._requests.connect=[]),new this._promise((function(e,r){var n=setTimeout((function(){r(new Error("CrossStorageClient could not connect"))}),t._timeout);t._requests.connect.push((function(t){if(clearTimeout(n),t)return r(t);e()}))})))},n.prototype.set=function(t,e){return this._request("set",{key:t,value:e})},n.prototype.get=function(t){var e=Array.prototype.slice.call(arguments);return this._request("get",{keys:e})},n.prototype.del=function(){var t=Array.prototype.slice.call(arguments);return this._request("del",{keys:t})},n.prototype.clear=function(){return this._request("clear")},n.prototype.getKeys=function(){return this._request("getKeys")},n.prototype.close=function(){var t=document.getElementById(this._frameId);t&&t.parentNode.removeChild(t),window.removeEventListener?window.removeEventListener("message",this._listener,!1):window.detachEvent("onmessage",this._listener),this._connected=!1,this._closed=!0},n.prototype._installListener=function(){var t=this;this._listener=function(e){var r,n,o;if(!t._closed&&e.data&&"string"==typeof e.data&&("null"===e.origin?"file://":e.origin)===t._origin)if("cross-storage:unavailable"!==e.data){if(-1!==e.data.indexOf("cross-storage:")&&!t._connected){if(t._connected=!0,!t._requests.connect)return;for(r=0;r<t._requests.connect.length;r++)t._requests.connect[r](n);delete t._requests.connect}if("cross-storage:ready"!==e.data){try{o=JSON.parse(e.data)}catch(t){return}o.id&&t._requests[o.id]&&t._requests[o.id](o.error,o.result)}}else{if(t._closed||t.close(),!t._requests.connect)return;for(n=new Error("Closing client. Could not access localStorage in hub."),r=0;r<t._requests.connect.length;r++)t._requests.connect[r](n)}},window.addEventListener?window.addEventListener("message",this._listener,!1):window.attachEvent("onmessage",this._listener)},n.prototype._poll=function(){var t,e,r;r="file://"===(t=this)._origin?"*":t._origin,e=setInterval((function(){if(t._connected)return clearInterval(e);t._hub&&t._hub.postMessage("cross-storage:poll",r)}),1e3)},n.prototype._createFrame=function(t){var e,r;for(r in(e=window.document.createElement("iframe")).id=this._frameId,n.frameStyle)n.frameStyle.hasOwnProperty(r)&&(e.style[r]=n.frameStyle[r]);return window.document.body.appendChild(e),e.src=t,e},n.prototype._request=function(t,e){var r,n;return this._closed?this._promise.reject(new Error("CrossStorageClient has closed")):((n=this)._count++,r={id:this._id+":"+n._count,method:"cross-storage:"+t,params:e},new this._promise((function(t,e){var o,i,a;o=setTimeout((function(){n._requests[r.id]&&(delete n._requests[r.id],e(new Error("Timeout: could not perform "+r.method)))}),n._timeout),n._requests[r.id]=function(i,a){if(clearTimeout(o),delete n._requests[r.id],i)return e(new Error(i));t(a)},Array.prototype.toJSON&&(i=Array.prototype.toJSON,Array.prototype.toJSON=null),a="file://"===n._origin?"*":n._origin,n._hub.postMessage(JSON.stringify(r),a),i&&(Array.prototype.toJSON=i)})))},t.exports?t.exports=n:e.CrossStorageClient=n}()},259:function(t,e){var r;r={init:function(t){var e=!0;try{window.localStorage||(e=!1)}catch(t){e=!1}if(!e)try{return window.parent.postMessage("cross-storage:unavailable","*")}catch(t){return}r._permissions=t||[],r._installListener(),window.parent.postMessage("cross-storage:ready","*")},_installListener:function(){var t=r._listener;window.addEventListener?window.addEventListener("message",t,!1):window.attachEvent("onmessage",t)},_listener:function(t){var e,n,o,i,a,s,u;if(e="null"===t.origin?"file://":t.origin,"cross-storage:poll"===t.data)return window.parent.postMessage("cross-storage:ready",t.origin);if("cross-storage:ready"!==t.data){try{o=JSON.parse(t.data)}catch(t){return}if(o&&"string"==typeof o.method&&(i=o.method.split("cross-storage:")[1])){if(r._permitted(e,i))try{s=r["_"+i](o.params)}catch(t){a=t.message}else a="Invalid permissions for "+i;u=JSON.stringify({id:o.id,error:a,result:s}),n="file://"===e?"*":e,window.parent.postMessage(u,n)}}},_permitted:function(t,e){var n,o,i;if(n=["get","set","del","clear","getKeys"],!r._inArray(e,n))return!1;for(o=0;o<r._permissions.length;o++)if((i=r._permissions[o]).origin instanceof RegExp&&i.allow instanceof Array&&i.origin.test(t)&&r._inArray(e,i.allow))return!0;return!1},_set:function(t){window.localStorage.setItem(t.key,t.value)},_get:function(t){var e,r,n,o;for(e=window.localStorage,r=[],n=0;n<t.keys.length;n++){try{o=e.getItem(t.keys[n])}catch(t){o=null}r.push(o)}return r.length>1?r:r[0]},_del:function(t){for(var e=0;e<t.keys.length;e++)window.localStorage.removeItem(t.keys[e])},_clear:function(){window.localStorage.clear()},_getKeys:function(t){var e,r,n;for(n=[],r=window.localStorage.length,e=0;e<r;e++)n.push(window.localStorage.key(e));return n},_inArray:function(t,e){for(var r=0;r<e.length;r++)if(t===e[r])return!0;return!1},_now:function(){return"function"==typeof Date.now?Date.now():(new Date).getTime()}},t.exports?t.exports=r:e.CrossStorageHub=r},92:(t,e,r)=>{t.exports={CrossStorageClient:r(226),CrossStorageHub:r(259)}},646:function(t){t.exports=function(){"use strict";function t(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)t[n]=r[n]}return t}return function e(r,n){function o(e,o,i){if("undefined"!=typeof document){"number"==typeof(i=t({},n,i)).expires&&(i.expires=new Date(Date.now()+864e5*i.expires)),i.expires&&(i.expires=i.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var s in i)i[s]&&(a+="; "+s,!0!==i[s]&&(a+="="+i[s].split(";")[0]));return document.cookie=e+"="+r.write(o,e)+a}}return Object.create({set:o,get:function(t){if("undefined"!=typeof document&&(!arguments.length||t)){for(var e=document.cookie?document.cookie.split("; "):[],n={},o=0;o<e.length;o++){var i=e[o].split("="),a=i.slice(1).join("=");try{var s=decodeURIComponent(i[0]);if(n[s]=r.read(a,s),t===s)break}catch(t){}}return t?n[t]:n}},remove:function(e,r){o(e,"",t({},r,{expires:-1}))},withAttributes:function(r){return e(this.converter,t({},this.attributes,r))},withConverter:function(r){return e(t({},this.converter,r),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(r)}})}({read:function(t){return'"'===t[0]&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})}()}},e={};!function r(n){var o=e[n];if(void 0!==o)return o.exports;var i=e[n]={exports:{}};return t[n].call(i.exports,i,i.exports,r),i.exports}(497)})();